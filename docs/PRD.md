# 📄 Product Requirements Document (PRD)

**Project Name**: 아마추어 축구팀 통합 관리 플랫폼 (FC BRO)
**작성일**: 2026-01-13 (Updated)
**버전**: v3.0 (Current Implementation)

## 1. 🎯 제품 개요
아마추어 축구팀의 팀원 관리, 일정 관리, 참석률 분석, 팀 편성까지 한 번에 가능한 통합 관리 플랫폼.
팀 총무(관리자)와 팀원(일반)이 함께 사용하며, 실제 운영 데이터를 기반으로 한 대시보드와 직관적인 일정 관리를 제공한다.

## 2. 👥 주요 사용자 및 권한
| 사용자 유형 | 역할 | 권한 및 기능 |
|------------|------|--------------|
| **총무 (Admin)** | 관리자 | 팀 정보 관리, 일정 생성/수정/삭제, 팀원 정보 수정(레벨 등), 게스트 초청, 팀 편성, 경기 결과 입력, 출석부 조회/엑셀 다운로드 |
| **팀원 (Member)** | 일반 사용자 | 일정 조회, 참석 투표(참석/불참/미정), 내 프로필 관리, 대시보드 조회, 게스트 초대 (허용된 일정), 앨범 조회 |

## 3. 🔑 핵심 기능 상세

### 3.1 🔐 사용자 관리 (Auth & Profile)
*   **카카오 로그인**: NextAuth.js + Kakao OAuth 연동.
*   **프로필 정보**: 이름(실명), 닉네임, 카카오 ID, 전화번호, 활동 지역, 생년월일, 주발, 등번호.
*   **포지션 시스템**: 주 포지션 1개 + 부 포지션 2개 선택 가능.

### 3.2 📅 일정 관리 (Schedule)
*   **일정 등록 (총무 전용)**: 자체경기/매치/훈련 유형 지원.
*   **참석 관리**: 일정별 참석/불참 투표, 실시간 현황 표시.
*   **게스트(용병) 시스템**: 비회원 게스트 초대, 포지션/레벨/초대자 정보 관리.
*   **카카오톡 공유**: 일정 정보를 카카오톡에 공유하기 좋은 텍스트로 자동 복사.

### 3.3 📊 대시보드 (Dashboard)
*   **다음 일정 카드**: 예정된 경기 정보, 팀 편성 결과(Yellow/Blue 팀), 참석 투표 기능.
*   **내 기록**: 올해 출석률, 통산 전적(승/무/패), 획득 뱃지.
*   **뱃지 시스템**: 활동에 따른 뱃지 획득 및 알림 팝업.
*   **스켈레톤 UI**: 로딩 중 스켈레톤 화면 제공.

### 3.4 ⚽ 팀 편성 (Squad Maker)
*   **자동 팀 편성**: 참석 인원 10명 이상 & 경기 2일 전부터 활성화.
*   **밸런싱 알고리즘**: 선수 레벨 및 포지션 기반 균형 분배.
*   **수동 조정**: 드래그 앤 드롭으로 선수 이동 가능.
*   **편성 확정**: 총무가 확정하면 대시보드에 노출.

### 3.5 🏆 경기 결과 (Match Result)
*   **스코어 입력**: Yellow팀/Blue팀 점수 기록.
*   **MVP 선정**: 경기 MVP 선수 지정.
*   **경기 요약**: 경기 후기/메모 작성.
*   **경기 사진 업로드**: Supabase Storage 연동, 사진 1장 업로드.

### 3.6 📷 팀 앨범 (Album)
*   **앨범 탭**: 업로드된 경기 사진을 갤러리 형태로 조회.
*   **날짜/장소 정보**: 각 사진에 경기 날짜 및 장소 표시.

### 3.7 📋 출석부 (Attendance Stats) - 총무 전용
*   **전체 출석 현황**: 모든 선수(행) × 올해 일정(열) 매트릭스 형태.
*   **O/X 표시**: 각 일정별 참석 여부 O/X로 표시.
*   **출석률 및 등급**: 선수별 출석률(%) 및 등급(A~E) 표시.
*   **평균 출석률**: 전체 선수 평균 출석률 표시.
*   **엑셀 다운로드**: 출석부 전체를 `.xlsx` 파일로 저장.

## 4. 🛠️ 기술 스택
| 분류 | 기술 |
|------|------|
| Framework | Next.js 15 (App Router) |
| Styling | Tailwind CSS + shadcn/ui |
| Database | PostgreSQL (Neon) + Prisma ORM |
| Auth | NextAuth.js + Kakao OAuth |
| Storage | Supabase Storage (이미지) |
| Excel | xlsx (클라이언트 사이드 생성) |

## 5. 📌 우선순위 및 향후 계획

### ✅ 완료 (Done)
- [x] 프로젝트 초기 세팅 (Next.js 15 + Tailwind)
- [x] DB 스키마 설계 및 Prisma 연동
- [x] 카카오 로그인 및 자동 회원가입/로그인 플로우
- [x] 포지션 선택 시스템 (주/부 포지션)
- [x] 일정 생성, 조회, 참석 투표 기능
- [x] 메인 대시보드 (실시간 데이터 연동 & 성능 최적화)
- [x] 뱃지 시스템 도입 (알림 및 모바일 UI 최적화)
- [x] 경기 스코어보드 UI (명단 확인 기능)
- [x] 자동 팀 편성 (레벨/포지션 기반 밸런싱)
- [x] 팀 편성 결과 대시보드 표시
- [x] 게스트 초대 기능 (대시보드 포함)
- [x] 카카오톡 공유 텍스트 생성
- [x] 경기 사진 업로드 (Supabase 연동)
- [x] 팀 앨범 탭
- [x] 전체 출석부 (총무 전용, 엑셀 다운로드)
- [x] 출석 등급 시스템 (A~E)

### 🚀 예정 (Todo)
- [ ] 커뮤니티: 공지사항 및 게시판
- [ ] 푸시 알림 (일정 리마인더)
- [ ] 개인 통계 상세 페이지